
<!DOCTYPE html>
<html>
<head>
  <title>courses</title>
  <link rel="stylesheet" href="/css/style2.css">
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"> -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
</head>
<script src="/js/jquery-1.12.4.min.js"></script>
<style>
  .course-details {
    display: none;
  }
</style>
<body>
   
  <%- include('../partials/clientNav') %>


<div>
    <div>
        <p>Change display name</p>
        <form action="/users/changename" method="POST"  id="changeName">
          <input type="text" id="categoryName" name="name" placeholder="change name" value="<%=user.name%>" /> 
          <input type="submit"  value="Change Name"/>
          </form>
          <p id="response"></p> 
    </div>

    <div>
      <br>
        <p>Change Password</p>
        <form action="/users/changepassword"  method="POST">
          <label> Enter old password</label>
          <input type="password" id="password" name="password"  placeholder="password" />
          <input type="password" id="Newpassword" name="newPassword"  placeholder="New password" />
          <input type="submit"  value="Change password"/>
        </form>
        <% if (typeof errors !== 'undefined' && errors.length > 0) { %>
          <div class="errors">
            <% errors.forEach(function (error) { %>
              <p class="error-message"><%= error.msg %></p>
            <% }) %>
          </div>
        <% } %>
     
    </div>
  
</div>
<script>
  $('document').ready(function () {
    $('#createCategoryForm').submit(function(event) {
        event.preventDefault();
        $('#response').empty();
        var categoryName = $('#categoryName').val();

        $.ajax({
          url: 'category',
          type: 'POST',
          data: { name: categoryName },
          success: function(response) {
            // Clear form input
            $('#categoryName').val('');

            // Add new category to dropdown options
            $('#category').append($('<option>', {
              value: "ere", 
              text: response.category
            }));
            console.log(response);
            $('#response').append(response.message);
          },
          error: function(xhr, status, error) {
            console.error('Error creating category:', error);
          }
        });
      });
  });
</script>
</body>
</html>    
